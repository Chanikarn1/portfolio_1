<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->

    <script src="https://kit.fontawesome.com/a81d1be103.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../css/styleV1.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800&display=swap" rel="stylesheet">
    <style>
    .box{
        width:500px;
        border:solid;
        padding:20px;
        height:300px;
    }
    .quiz-style{
        font-weight-bold mg- text-20
    }
    </style>
  </head>
  <body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 d-flex justify-content-center align-items-center" style="height:100vh;background: #d7dc0e">
                <div class="box text-center">
                    <div class="question-box ">
                        <div class="ans">
                        </div>
                    </div>
                    <div class="score">
                      You Score <span>0</span>
                    </div>
                    <button type="submit"  class="btn btn-outline-dark" id="send_ans" >click</button>
                </div>
            </div>
        </div>
        
    </div>
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script>
        //ม่ีคำถาม 4 คำถาม โดยให้คนมาตอบแล้วให้คะแนน
        var totalQuiz =  [
            {quiz : "how old of me ?",
            ans:[12,25,30],
            correctAns :"choice1"
        },
         {quiz : "what is my name ?",
            ans : ["fai","not","lisa"],
            correctAns :"choice2"
        },
         {quiz : "what is my favorite food ?",
            ans:["noodle", "rice","pizza"],
            correctAns :"choice3"
        },
         {quiz : "what is my job ?",
            ans:["chief","programer","engineer"],
            correctAns :"choice2"
        }
        ]
       /* var question = "<div>" + totalQuiz[i].quiz + "</div>"+
                     "<div>" + totalQuiz[i].ans[j] + "</div>"*/
                            
       // console.log(totalQuiz[i].quiz) ;
        
     /*   function showQuestion(){
            for(var i = 0;i<totalQuiz.length;i++ ){
            var quest = "<div class='question-" +i  + " '>" + 
                            "<div>" + totalQuiz[i].quiz + "</div>"+
                        "</div>"
                        //"<div>" + totalQuiz[i].quiz + "</div>"
            $('.question-box').append(quest)
                for(var j = 0;j<totalQuiz[i].ans.length;j++){
                    
                    var ans =  "<input type='radio' name='ans-"+i+ "'>" + totalQuiz[i].ans[j] ;
                    $('.question-'+i).append(ans)
                }
               // $('.qustion-box').append(quest+ans)
          
        }
        
        }*/
        var index = 0;
        var lastIndex = totalQuiz.length
        var score = 0;
        function showQuestion(){
           console.log(index)
            var quest = "<div class='question-" +index  + " '>" + 
                            "<div class='font-weight-bold text-20'>" + totalQuiz[index].quiz + "</div>"+
                        "</div>"
            $('.question-box').html(quest)
            for(var j = 0;j<totalQuiz[index].ans.length;j++){
                    
                    var ans =  "<input type='radio' name='ans-"+index+  "' value='choice"+(j+1)+ "'>" + totalQuiz[index].ans[j] ;
                    $('.question-'+index).append(ans)
                }
            

        }
        function GetScore(){
            var getSccore = $('input[name="ans-'+index+'"]:checked').val()
            if(getSccore == totalQuiz[index].correctAns){
              score = score + 2;
              $('.score span').html(score)
            }
            else{
                alert("Your answer is wrong")
            }
        }
         $('#send_ans').click(function()
           {
              GetScore();
              runNextQuestion()
              
              
              
           })
         
        function runNextQuestion(){
            var oldIndex = index;
             console.log(index)
             
             index+=1;
            if( index<lastIndex){
                 console.log("after click"+index)
            var quest = "<div class='question-" +index  + " '>" + 
                            "<div class='font-weight-bold  text-20'>" + totalQuiz[index].quiz + "</div>"+
                        "</div>"
            // เอาคำถามใหม่ไปใส่ใน dom เก่า
            $('.question-'+oldIndex).html(quest)
            for(var j = 0;j<totalQuiz[index].ans.length;j++){
                    
                    var ans =  "<labe>" +totalQuiz[index].ans[j] +
                            "<input type='radio' name='ans-"+index+ "' value='choice"+(j+1)+ "'>" +
                            "</label>"  ;
                    $('.question-'+index).append(ans)
                }
            }
            else{
                $('.question-box').hide();
                $('#send_ans').hide();
                
            }
           
        }   
     
        showQuestion()
        //console.log(totalQuiz[1].choice3)
    </script>
  </body>
</html>